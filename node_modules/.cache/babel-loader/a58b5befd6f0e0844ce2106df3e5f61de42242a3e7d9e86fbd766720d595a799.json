{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arw93\\\\Downloads\\\\project3\\\\client\\\\src\\\\copmonents\\\\pages\\\\Otp.js\",\n  _s = $RefreshSig$();\nimport \"../css/Register.css\";\nimport { useForm } from \"react-hook-form\";\nimport React, { useEffect } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport Header from \"../sections/Header\";\nimport Footer from \"../sections/Footer\";\nimport forget from \"../assets/forget.png\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Otp = () => {\n  _s();\n  var _location$state, _errors$otp;\n  const {\n    token\n  } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const email = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.email) || \"\";\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const onSubmit = data => {\n    axios.post(\"http://localhost:5000/verify-otp\", {\n      email,\n      otp: data.otp\n    }).then(response => {\n      if (response.data.message === 'OTP verified.') {\n        navigate(\"/reset-password\", {\n          state: {\n            email,\n            otp: data.otp\n          }\n        });\n      } else {\n        alert(response.data.message || \"Failed to verify OTP\");\n      }\n    }).catch(error => {\n      console.error(\"Error verifying OTP:\", error);\n      alert(\"An error occurred. Please try again later.\");\n    });\n  };\n  useEffect(() => {\n    // No need to reset state as we're not using Redux\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"container-register\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"signip\",\n          children: \"Enter OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group-prepend\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text\",\n              children: errors.otp ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-key-fill icon-error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 1\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-key-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 1\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 1\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Enter OTP\",\n            ...register(\"otp\", {\n              required: \"OTP is required\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error small\",\n          children: (_errors$otp = errors.otp) === null || _errors$otp === void 0 ? void 0 : _errors$otp.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"cssbuttons-io-button\",\n          children: [\"Verify\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              height: \"24\",\n              width: \"24\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z\",\n                color: \"#7B4F2C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 1\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-section\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: forget,\n          alt: \"OTP Verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n};\n_s(Otp, \"HK6eVcaTB7JQMqdPL7X9piUn5PU=\", false, function () {\n  return [useParams, useLocation, useNavigate, useForm];\n});\n_c = Otp;\nexport default Otp;\nvar _c;\n$RefreshReg$(_c, \"Otp\");","map":{"version":3,"names":["useForm","React","useEffect","useParams","useLocation","useNavigate","Header","Footer","forget","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Otp","_s","_location$state","_errors$otp","token","location","navigate","email","state","register","handleSubmit","formState","errors","onSubmit","data","post","otp","then","response","message","alert","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","placeholder","required","height","width","viewBox","d","fill","color","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/arw93/Downloads/project3/client/src/copmonents/pages/Otp.js"],"sourcesContent":["import \"../css/Register.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Header from \"../sections/Header\";\r\nimport Footer from \"../sections/Footer\";\r\nimport forget from \"../assets/forget.png\";\r\nimport axios from \"axios\";\r\n\r\nconst Otp = () => {\r\nconst { token } = useParams();\r\nconst location = useLocation();\r\nconst navigate = useNavigate();\r\nconst email = location.state?.email || \"\";\r\n\r\nconst {\r\nregister,\r\nhandleSubmit,\r\nformState: { errors },\r\n} = useForm();\r\n\r\nconst onSubmit = (data) => {\r\naxios.post(\"http://localhost:5000/verify-otp\", { email, otp: data.otp })\r\n.then(response => {\r\nif (response.data.message === 'OTP verified.') {\r\nnavigate(\"/reset-password\", { state: { email, otp: data.otp } });\r\n} else {\r\nalert(response.data.message || \"Failed to verify OTP\");\r\n}\r\n})\r\n.catch(error => {\r\nconsole.error(\"Error verifying OTP:\", error);\r\nalert(\"An error occurred. Please try again later.\");\r\n});\r\n};\r\n\r\nuseEffect(() => {\r\n// No need to reset state as we're not using Redux\r\n}, []);\r\n\r\nreturn (\r\n<>\r\n<Header />\r\n<form className=\"container-register\" onSubmit={handleSubmit(onSubmit)}>\r\n<div className=\"left-section\">\r\n<h2 className=\"signip\">Enter OTP</h2>\r\n<div className=\"input-group\">\r\n<div className=\"input-group-prepend\">\r\n<span className=\"input-group-text\">\r\n{errors.otp ? (\r\n<i className=\"bi bi-key-fill icon-error\"></i>\r\n) : (\r\n<i className=\"bi bi-key-fill\"></i>\r\n)}\r\n</span>\r\n</div>\r\n<input\r\ntype=\"text\"\r\nclassName=\"form-control\"\r\nplaceholder=\"Enter OTP\"\r\n{...register(\"otp\", { required: \"OTP is required\" })}\r\n/>\r\n</div>\r\n<span className=\"error small\">{errors.otp?.message}</span>\r\n<br />\r\n<button type=\"submit\" className=\"cssbuttons-io-button\">\r\nVerify\r\n<div className=\"icon\">\r\n<svg height=\"24\" width=\"24\" viewBox=\"0 0 24 24\">\r\n<path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n<path d=\"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z\" color=\"#7B4F2C\" ></path>\r\n</svg>\r\n</div>\r\n</button>\r\n</div>\r\n<div className=\"right-section\">\r\n<img src={forget} alt=\"OTP Verification\" />\r\n</div>\r\n</form>\r\n<Footer />\r\n</>\r\n);\r\n};\r\n\r\nexport default Otp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}