{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arw93\\\\Downloads\\\\project3\\\\client\\\\src\\\\copmonents\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Header from \"../sections/Header\";\nimport Footer from \"../sections/Footer\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profiler = () => {\n  _s();\n  const [userInfo, setUserInfo] = useState({\n    imgUrl: 'https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg',\n    user: 'John Doe',\n    gender: 'Male',\n    email: 'John@gmail.com'\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [editForm, setEditForm] = useState({\n    username: '',\n    email: '',\n    gender: '',\n    imgUrl: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({\n    text: '',\n    type: ''\n  });\n  const navigate = useNavigate();\n  const ResetPassword = () => {\n    navigate('/verifyEmail');\n  };\n\n  // Handle edit mode toggle\n  const handleEditToggle = () => {\n    if (!isEditing) {\n      // Initialize edit form with current values\n      setEditForm({\n        username: userInfo.user,\n        email: userInfo.email,\n        gender: userInfo.gender,\n        imgUrl: userInfo.imgUrl,\n        password: '',\n        confirmPassword: ''\n      });\n    }\n    setIsEditing(!isEditing);\n    setMessage({\n      text: '',\n      type: ''\n    });\n  };\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle image file upload\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        setEditForm(prev => ({\n          ...prev,\n          imgUrl: event.target.result\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Validate form\n  const validateForm = () => {\n    // Username validation\n    if (!editForm.username || editForm.username.trim().length < 3) {\n      setMessage({\n        text: 'Username must be at least 3 characters long',\n        type: 'error'\n      });\n      return false;\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!editForm.email || !emailRegex.test(editForm.email)) {\n      setMessage({\n        text: 'Please enter a valid email address',\n        type: 'error'\n      });\n      return false;\n    }\n\n    // Password validation\n    if (editForm.password && editForm.password !== editForm.confirmPassword) {\n      setMessage({\n        text: 'Passwords do not match',\n        type: 'error'\n      });\n      return false;\n    }\n    if (editForm.password && editForm.password.length < 6) {\n      setMessage({\n        text: 'Password must be at least 6 characters long',\n        type: 'error'\n      });\n      return false;\n    }\n    return true;\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    setLoading(true);\n    setMessage({\n      text: '',\n      type: ''\n    });\n    try {\n      const username = localStorage.getItem('username');\n      const updateData = {\n        gender: editForm.gender,\n        imgUrl: editForm.imgUrl,\n        newUsername: editForm.username !== userInfo.user ? editForm.username : undefined,\n        email: editForm.email !== userInfo.email ? editForm.email : undefined\n      };\n\n      // Only include password if it's provided\n      if (editForm.password) {\n        updateData.password = editForm.password;\n      }\n      const response = await axios.put(`http://localhost:3000/updateUser/${username}`, updateData);\n      if (response.data.message === 'User updated successfully.') {\n        // Update local state with new data\n        setUserInfo(prev => ({\n          ...prev,\n          user: editForm.username,\n          email: editForm.email,\n          gender: editForm.gender,\n          imgUrl: editForm.imgUrl\n        }));\n\n        // Update localStorage if username changed\n        if (editForm.username !== userInfo.user) {\n          localStorage.setItem('username', editForm.username.toLowerCase());\n        }\n        setMessage({\n          text: 'Profile updated successfully!',\n          type: 'success'\n        });\n        setIsEditing(false);\n\n        // Clear password fields\n        setEditForm(prev => ({\n          ...prev,\n          password: '',\n          confirmPassword: ''\n        }));\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error updating profile:', error);\n      setMessage({\n        text: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to update profile. Please try again.',\n        type: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle cancel edit\n  const handleCancel = () => {\n    setIsEditing(false);\n    setEditForm({\n      username: '',\n      email: '',\n      gender: '',\n      imgUrl: '',\n      password: '',\n      confirmPassword: ''\n    });\n    setMessage({\n      text: '',\n      type: ''\n    });\n  };\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const username = localStorage.getItem('username');\n      if (username) {\n        try {\n          const response = await axios.get(`http://localhost:3000/getUserProfile/${username}`);\n          console.log(\"User profile data:\", response.data);\n          if (response.data) {\n            // Handle different image URL formats\n            let fullImgUrl = \"https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg\";\n            if (response.data.imgUrl) {\n              // If it's already a full URL, use it directly\n              if (response.data.imgUrl.startsWith('http')) {\n                fullImgUrl = response.data.imgUrl;\n              } else {\n                // If it's a relative path, construct the full URL\n                fullImgUrl = `http://localhost:3000/${response.data.imgUrl}`;\n              }\n            }\n            setUserInfo(prev => ({\n              ...prev,\n              ...response.data,\n              imgUrl: fullImgUrl\n            }));\n          }\n        } catch (error) {\n          console.error('Error fetching user data:', error);\n          // Keep default image on error\n        }\n      }\n    };\n    fetchUserData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-contact\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5 d-flex justify-content-center\",\n      style: {\n        paddingTop: \"100px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4 shadow\",\n        style: {\n          maxWidth: \"600px\",\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center mb-0\",\n              children: \"User Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: `btn ${isEditing ? 'btn-secondary' : 'btn-primary'}`,\n              onClick: handleEditToggle,\n              disabled: loading,\n              children: isEditing ? 'Cancel' : 'Edit Profile'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `alert ${message.type === 'success' ? 'alert-success' : 'alert-danger'} mb-3`,\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center gap-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: isEditing ? editForm.imgUrl || userInfo.imgUrl : userInfo.imgUrl,\n                alt: \"Profile\",\n                width: \"120\",\n                height: \"120\",\n                className: \"rounded-circle border\",\n                onError: e => {\n                  console.log('Image failed to load, using default');\n                  e.target.src = \"https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg\";\n                },\n                style: {\n                  objectFit: 'cover'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handleImageUpload,\n                  className: \"form-control form-control-sm\",\n                  id: \"imageUpload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"imageUpload\",\n                  className: \"form-label small text-muted\",\n                  children: \"Upload new profile picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Username: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"username\",\n                  value: editForm.username,\n                  onChange: handleInputChange,\n                  className: \"form-control\",\n                  placeholder: \"Enter username\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: userInfo.user,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Email: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  value: editForm.email,\n                  onChange: handleInputChange,\n                  className: \"form-control\",\n                  placeholder: \"Enter email\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  value: userInfo.email,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Gender: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"gender\",\n                  value: editForm.gender,\n                  onChange: handleInputChange,\n                  className: \"form-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Gender\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Male\",\n                    children: \"Male\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Female\",\n                    children: \"Female\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: userInfo.gender,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Change Password (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"New Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"password\",\n                    value: editForm.password,\n                    onChange: handleInputChange,\n                    className: \"form-control\",\n                    placeholder: \"Enter new password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Confirm Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"confirmPassword\",\n                    value: editForm.confirmPassword,\n                    onChange: handleInputChange,\n                    className: \"form-control\",\n                    placeholder: \"Confirm new password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-link text-decoration-none\",\n              onClick: ResetPassword,\n              children: \"Reset password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary me-2\",\n                onClick: handleCancel,\n                disabled: loading,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                disabled: loading,\n                children: loading ? 'Updating...' : 'Save Changes'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n_s(Profiler, \"9hpbKvAcj1pwqC10GsfNntBiLJ8=\", false, function () {\n  return [useNavigate];\n});\n_c = Profiler;\nexport default Profiler;\nvar _c;\n$RefreshReg$(_c, \"Profiler\");","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","useNavigate","axios","jsxDEV","_jsxDEV","Profiler","_s","userInfo","setUserInfo","imgUrl","user","gender","email","isEditing","setIsEditing","editForm","setEditForm","username","password","confirmPassword","loading","setLoading","message","setMessage","text","type","navigate","ResetPassword","handleEditToggle","handleInputChange","e","name","value","target","prev","handleImageUpload","file","files","reader","FileReader","onload","event","result","readAsDataURL","validateForm","trim","length","emailRegex","test","handleSubmit","preventDefault","localStorage","getItem","updateData","newUsername","undefined","response","put","data","setItem","toLowerCase","error","_error$response","_error$response$data","console","handleCancel","fetchUserData","get","log","fullImgUrl","startsWith","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","paddingTop","maxWidth","width","onSubmit","onClick","disabled","src","alt","height","onError","objectFit","accept","onChange","id","htmlFor","placeholder","required","readOnly","_c","$RefreshReg$"],"sources":["C:/Users/arw93/Downloads/project3/client/src/copmonents/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from \"../sections/Header\";\r\nimport Footer from \"../sections/Footer\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nconst Profiler = () => {\r\n  const [userInfo, setUserInfo] = useState({\r\n    imgUrl: 'https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg',\r\n    user: 'John Doe',\r\n    gender: 'Male',\r\n    email: 'John@gmail.com'\r\n  });\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState({\r\n    username: '',\r\n    email: '',\r\n    gender: '',\r\n    imgUrl: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ text: '', type: '' });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const ResetPassword = () => {\r\n    navigate('/verifyEmail');\r\n  };\r\n\r\n  // Handle edit mode toggle\r\n  const handleEditToggle = () => {\r\n    if (!isEditing) {\r\n      // Initialize edit form with current values\r\n      setEditForm({\r\n        username: userInfo.user,\r\n        email: userInfo.email,\r\n        gender: userInfo.gender,\r\n        imgUrl: userInfo.imgUrl,\r\n        password: '',\r\n        confirmPassword: ''\r\n      });\r\n    }\r\n    setIsEditing(!isEditing);\r\n    setMessage({ text: '', type: '' });\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditForm(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Handle image file upload\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setEditForm(prev => ({\r\n          ...prev,\r\n          imgUrl: event.target.result\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // Validate form\r\n  const validateForm = () => {\r\n    // Username validation\r\n    if (!editForm.username || editForm.username.trim().length < 3) {\r\n      setMessage({ text: 'Username must be at least 3 characters long', type: 'error' });\r\n      return false;\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!editForm.email || !emailRegex.test(editForm.email)) {\r\n      setMessage({ text: 'Please enter a valid email address', type: 'error' });\r\n      return false;\r\n    }\r\n\r\n    // Password validation\r\n    if (editForm.password && editForm.password !== editForm.confirmPassword) {\r\n      setMessage({ text: 'Passwords do not match', type: 'error' });\r\n      return false;\r\n    }\r\n    if (editForm.password && editForm.password.length < 6) {\r\n      setMessage({ text: 'Password must be at least 6 characters long', type: 'error' });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setMessage({ text: '', type: '' });\r\n\r\n    try {\r\n      const username = localStorage.getItem('username');\r\n      const updateData = {\r\n        gender: editForm.gender,\r\n        imgUrl: editForm.imgUrl,\r\n        newUsername: editForm.username !== userInfo.user ? editForm.username : undefined,\r\n        email: editForm.email !== userInfo.email ? editForm.email : undefined\r\n      };\r\n\r\n      // Only include password if it's provided\r\n      if (editForm.password) {\r\n        updateData.password = editForm.password;\r\n      }\r\n\r\n      const response = await axios.put(`http://localhost:3000/updateUser/${username}`, updateData);\r\n      \r\n      if (response.data.message === 'User updated successfully.') {\r\n        // Update local state with new data\r\n        setUserInfo(prev => ({\r\n          ...prev,\r\n          user: editForm.username,\r\n          email: editForm.email,\r\n          gender: editForm.gender,\r\n          imgUrl: editForm.imgUrl\r\n        }));\r\n        \r\n        // Update localStorage if username changed\r\n        if (editForm.username !== userInfo.user) {\r\n          localStorage.setItem('username', editForm.username.toLowerCase());\r\n        }\r\n        \r\n        setMessage({ text: 'Profile updated successfully!', type: 'success' });\r\n        setIsEditing(false);\r\n        \r\n        // Clear password fields\r\n        setEditForm(prev => ({\r\n          ...prev,\r\n          password: '',\r\n          confirmPassword: ''\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      setMessage({ \r\n        text: error.response?.data?.message || 'Failed to update profile. Please try again.', \r\n        type: 'error' \r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle cancel edit\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setEditForm({\r\n      username: '',\r\n      email: '',\r\n      gender: '',\r\n      imgUrl: '',\r\n      password: '',\r\n      confirmPassword: ''\r\n    });\r\n    setMessage({ text: '', type: '' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      const username = localStorage.getItem('username');\r\n      if (username) {\r\n        try {\r\n          const response = await axios.get(`http://localhost:3000/getUserProfile/${username}`);\r\n          console.log(\"User profile data:\", response.data);\r\n          if (response.data) {\r\n            // Handle different image URL formats\r\n            let fullImgUrl = \"https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg\";\r\n            \r\n            if (response.data.imgUrl) {\r\n              // If it's already a full URL, use it directly\r\n              if (response.data.imgUrl.startsWith('http')) {\r\n                fullImgUrl = response.data.imgUrl;\r\n              } else {\r\n                // If it's a relative path, construct the full URL\r\n                fullImgUrl = `http://localhost:3000/${response.data.imgUrl}`;\r\n              }\r\n            }\r\n\r\n            setUserInfo(prev => ({\r\n              ...prev,\r\n              ...response.data,\r\n              imgUrl: fullImgUrl\r\n            }));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching user data:', error);\r\n          // Keep default image on error\r\n        }\r\n      }\r\n    };\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main-contact\">\r\n      <Header />\r\n      <div className=\"container my-5 d-flex justify-content-center\" style={{ paddingTop: \"100px\" }}>\r\n        <div className=\"card p-4 shadow\" style={{ maxWidth: \"600px\", width: \"100%\" }}>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <h2 className=\"text-center mb-0\">User Profile</h2>\r\n              <button \r\n                type=\"button\" \r\n                className={`btn ${isEditing ? 'btn-secondary' : 'btn-primary'}`}\r\n                onClick={handleEditToggle}\r\n                disabled={loading}\r\n              >\r\n                {isEditing ? 'Cancel' : 'Edit Profile'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Message display */}\r\n            {message.text && (\r\n              <div className={`alert ${message.type === 'success' ? 'alert-success' : 'alert-danger'} mb-3`}>\r\n                {message.text}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"d-flex align-items-center gap-4 mb-4\">\r\n              <div className=\"flex-shrink-0\">\r\n                <img\r\n                  src={isEditing ? editForm.imgUrl || userInfo.imgUrl : userInfo.imgUrl}\r\n                  alt=\"Profile\"\r\n                  width=\"120\"\r\n                  height=\"120\"\r\n                  className=\"rounded-circle border\"\r\n                  onError={(e) => {\r\n                    console.log('Image failed to load, using default');\r\n                    e.target.src = \"https://static.vecteezy.com/system/resources/thumbnails/013/360/247/small/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg\";\r\n                  }}\r\n                  style={{ objectFit: 'cover' }}\r\n                />\r\n                \r\n                {/* Image upload input - only show in edit mode */}\r\n                {isEditing && (\r\n                  <div className=\"mt-2\">\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageUpload}\r\n                      className=\"form-control form-control-sm\"\r\n                      id=\"imageUpload\"\r\n                    />\r\n                    <label htmlFor=\"imageUpload\" className=\"form-label small text-muted\">\r\n                      Upload new profile picture\r\n                    </label>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"w-100\">\r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label\"><strong>Username: </strong></label>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"username\"\r\n                      value={editForm.username}\r\n                      onChange={handleInputChange}\r\n                      className=\"form-control\"\r\n                      placeholder=\"Enter username\"\r\n                      required\r\n                    />\r\n                  ) : (\r\n                    <input \r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      value={userInfo.user} \r\n                      readOnly \r\n                    />\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label\"><strong>Email: </strong></label>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={editForm.email}\r\n                      onChange={handleInputChange}\r\n                      className=\"form-control\"\r\n                      placeholder=\"Enter email\"\r\n                      required\r\n                    />\r\n                  ) : (\r\n                    <input \r\n                      type=\"email\" \r\n                      className=\"form-control\" \r\n                      value={userInfo.email} \r\n                      readOnly \r\n                    />\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label\"><strong>Gender: </strong></label>\r\n                  {isEditing ? (\r\n                    <select\r\n                      name=\"gender\"\r\n                      value={editForm.gender}\r\n                      onChange={handleInputChange}\r\n                      className=\"form-control\"\r\n                    >\r\n                      <option value=\"\">Select Gender</option>\r\n                      <option value=\"Male\">Male</option>\r\n                      <option value=\"Female\">Female</option>\r\n                      <option value=\"Other\">Other</option>\r\n                    </select>\r\n                  ) : (\r\n                    <input \r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      value={userInfo.gender} \r\n                      readOnly \r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password change section - only show in edit mode */}\r\n            {isEditing && (\r\n              <div className=\"mb-4\">\r\n                <h5>Change Password (Optional)</h5>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"mb-3\">\r\n                      <label className=\"form-label\">New Password</label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={editForm.password}\r\n                        onChange={handleInputChange}\r\n                        className=\"form-control\"\r\n                        placeholder=\"Enter new password\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"mb-3\">\r\n                      <label className=\"form-label\">Confirm Password</label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"confirmPassword\"\r\n                        value={editForm.confirmPassword}\r\n                        onChange={handleInputChange}\r\n                        className=\"form-control\"\r\n                        placeholder=\"Confirm new password\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action buttons */}\r\n            <div className=\"d-flex justify-content-between\">\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn btn-link text-decoration-none\" \r\n                onClick={ResetPassword}\r\n              >\r\n                Reset password?\r\n              </button>\r\n              \r\n              {isEditing && (\r\n                <div>\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-secondary me-2\" \r\n                    onClick={handleCancel}\r\n                    disabled={loading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button \r\n                    type=\"submit\" \r\n                    className=\"btn btn-primary\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? 'Updating...' : 'Save Changes'}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profiler;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}